<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svapoweb Roma Centocelle - La tua guida nel mondo dello svapo</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <header>
    <nav class="nav-container">
        <div class="logo">
            <a href="index.html">SVAPOWEB<span><span>ROMA CENTOCELLE</span></a>
        </div>
        
        <ul id="main-menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="cose-da-sapere.html">Cose da sapere</a></li>
            <li><a href="fake-news.html">Fake news</a></li>
            <li><a href="news.html">News</a></li>
            <li><a href="dove-siamo.html">Dove siamo</a></li>
            <li><a href="contatti.html">Contatti</a></li>
            <li><a href="extra.html">Extra</a></li>
            <li><a href="servizi-admiral.html">Servizi Admiral Pay</a></li>
        </ul>
    </nav>
</header>


    <main class="container">
        <h1>Strumenti Extra</h1>
        <section class="calculator-box">
            <h2>Quanto potresti risparmiare? ðŸ’°</h2>
            <p>Inserisci i tuoi dati per vedere quanto spendi all'anno con le sigarette tradizionali.</p>
            
            <div class="form-group">
                <label for="price">Prezzo medio di un pacchetto (â‚¬):</label>
                <input type="number" id="price" value="6.00" step="0.10">
            </div>

            <div class="form-group">
                <label for="quantity">Pacchetti consumati a settimana:</label>
                <input type="number" id="quantity" value="7" step="1">
            </div>

            <button type="button" class="btn-send" onclick="calcolaRisparmio()">Calcola Risparmio</button>

            <div id="result" class="result-area hidden">
                <h3>Risultato:</h3>
                <p>Spendi circa <span id="total-year" class="highlight">0</span> â‚¬ all'anno in sigarette.</p>
                <p>Passando allo svapo, potresti risparmiare oltre il 60% di questa cifra!</p>
            </div>
        </section>
        <span></span>
<span></span>

        <div class="vape-calc-container">
    <h2 class="calc-title">Calcolatore Liquido Fai-da-Te</h2>
    
    <div class="calc-grid">
        <div class="calc-inputs">
            <div class="input-field">
                <label>QuantitÃ  totale da ottenere (ml)</label>
                <input type="number" id="total_volume" value="100">
            </div>
            
            <div class="input-field">
                <label>Nicotina finale desiderata (mg/ml)</label>
                <input type="number" id="target_nic" value="3" step="0.1">
            </div>

            <div class="input-field">
                <label>Percentuale Aroma (%)</label>
                <input type="number" id="aroma_perc" value="10">
            </div>

            <div class="input-field">
                <label>Composizione finale desiderata (VG/PG)</label>
                <select id="target_ratio">
                    <option value="50">50/50 (Guancia)</option>
                    <option value="70">70/30 (Polmone)</option>
                    <option value="80">80/20 (Cloud)</option>
                </select>
            </div>

            <div class="input-field">
                <label>Forza Basetta Nicotina (mg/ml)</label>
                <input type="number" id="booster_strength" value="20">
            </div>

            <button onclick="calcolaLiquidoAvanzato()" class="btn-calculate">CALCOLA RICETTA</button>
        </div>

        <div class="calc-results" id="results-box">
            <h3>La tua Ricetta:</h3>
            <div class="result-item">
                <span>Aroma:</span>
                <strong id="res-aroma">-</strong>
            </div>
            <div class="result-item">
                <span>Nicotina (Basette):</span>
                <strong id="res-nic">-</strong>
            </div>
            <div class="result-item">
                <span>Glicerina Vegetale (VG):</span>
                <strong id="res-vg">-</strong>
            </div>
            <div class="result-item">
                <span>Glicole Propilenico (PG):</span>
                <strong id="res-pg">-</strong>
            </div>
            <div class="total-bar">
                Volume Totale: <span id="res-total">100</span> ml
            </div>
        </div>
    </div>
</div>
    </main>

    <script src="script.js"></script>
    <script>
function calcolaLiquidoAvanzato() {
    // Recupero Valori
    const V_tot = parseFloat(document.getElementById('total_volume').value);
    const N_target = parseFloat(document.getElementById('target_nic').value);
    const A_perc = parseFloat(document.getElementById('aroma_perc').value);
    const N_booster = parseFloat(document.getElementById('booster_strength').value);
    const Ratio_VG = parseFloat(document.getElementById('target_ratio').value) / 100;

    // 1. Calcolo ml Aroma
    const ml_aroma = (V_tot * A_perc) / 100;

    // 2. Calcolo ml Nicotina (Basette)
    const ml_nic = (N_target * V_tot) / N_booster;

    // 3. Calcolo Glicerina (VG) necessaria
    const ml_vg_target = V_tot * Ratio_VG;
    // Nota: Le basette di solito sono 50/50 o 70/30. 
    // Per semplicitÃ  qui assumiamo basette 50/50 e aroma in PG.
    const ml_vg = ml_vg_target; 

    // 4. Calcolo Glicole (PG) a riempimento
    const ml_pg = V_tot - ml_vg - ml_nic - ml_aroma;

    // Controllo errori
    if (ml_pg < 0) {
        alert("Attenzione: La somma di Nicotina e Aroma supera la quota di Glicole disponibile per questo rapporto VG/PG. Riduci la nicotina o aumenta il VG.");
        return;
    }

    // Visualizzazione Risultati
    document.getElementById('res-aroma').innerText = ml_aroma.toFixed(1) + " ml";
    document.getElementById('res-nic').innerText = ml_nic.toFixed(1) + " ml (" + (ml_nic/10).toFixed(1) + " basette)";
    document.getElementById('res-vg').innerText = ml_vg.toFixed(1) + " ml";
    document.getElementById('res-pg').innerText = ml_pg.toFixed(1) + " ml";
    document.getElementById('res-total').innerText = V_tot;
    
    document.getElementById('results-box').style.backgroundColor = "#fff9f0";
}
</script>
</body>
</html>